[参考知乎](https://zhuanlan.zhihu.com/p/574739597)

原数组为a,数组t中的t[i]记录的是**以a[i]为结尾，长度为lowbit(i)的区间的和。也就是(i-lowbit(i),i]这一区间的和。**

```cpp
//单点修改 区间查询
//https://www.luogu.com.cn/problem/P3374
#include <iostream>
#include <vector>
using namespace std;
const int N=500005;
int t[N];
int lowbit(int x){
	return x & (-x); 
}
void add(int pos,int x){
	for(int i = pos;i<N;i+=lowbit(i)){
		t[i] += x;
	}
}
int get(int pos){
	int sum = 0;
	for(int i = pos;i;i-=lowbit(i)){
		sum += t[i];
	}
	return sum;
}
int main(){
//	freopen("in.txt","r",stdin);
	int n,m;
	cin>>n>>m;
	int x;
	for(int i = 1;i<=n;i++){
		cin>>x;
		add(i,x);
	}
	int op,y;
	while(m--){
		cin>>op>>x>>y;
		if(op==1){
			add(x,y);
		}
		else{
			cout<<get(y)-get(x-1)<<'\n';
		}
	}
}

```
